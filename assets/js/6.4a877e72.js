(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{355:function(e,a,t){"use strict";t.r(a);var s=t(43),n=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"cli"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cli"}},[e._v("#")]),e._v(" CLI")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/mrapi-js/mrapi/tree/master/packages/cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("@mrapi/cli"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Used to assist in the construction of standardized "),t("code",[e._v("mrapi")]),e._v("projects")]),e._v(" "),t("h2",{attrs:{id:"install"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install"}},[e._v("#")]),e._v(" install")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("npm install @mrapi/cli --save-dev\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h2",{attrs:{id:"use"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#use"}},[e._v("#")]),e._v(" use")]),e._v(" "),t("p",[t("code",[e._v("@mrapi/cli")]),e._v(" provides a cli interface for "),t("code",[e._v("mrapi")]),e._v(" projects:")]),e._v(" "),t("div",{staticClass:"language-terminal line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("npx mrapi -h\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("Help message will be printed:")]),e._v(" "),t("div",{staticClass:"language-terminal line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Usage: run [options] [command]\n\nOptions:\n  -v, --version       output the version number\n  -h, --help          display help for command\n\nCommands:\n  generate [options]  Generate prisma schema and nexus types\n  help [command]      display help for command\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br")])]),t("h2",{attrs:{id:"configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[e._v("#")]),e._v(" configuration")]),e._v(" "),t("p",[e._v("The following properties in "),t("code",[e._v("mrapiConfig")]),e._v(" will be used:")]),e._v(" "),t("div",{staticClass:"language-typescript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-typescript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" inputSchemaDir"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" schemaDir"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" outputDir"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" managementUrl "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("mrapiConfig\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("Reference "),t("a",{attrs:{href:"https://mrapi-js.github.io/docs/Configuration/Common.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("mrapiConfig"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"generate"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#generate"}},[e._v("#")]),e._v(" generate")]),e._v(" "),t("p",[e._v("Used to initialize the multi-tenant management instance and generate the "),t("code",[e._v("prisma client")]),e._v(", "),t("code",[e._v("nexus type")]),e._v(", and "),t("code",[e._v("oas")]),e._v(" codes required by the "),t("a",{attrs:{href:"https://mrapi-js.github.io/docs/Configuration/DAL.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("DAL"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v("This command roughly does the following things:")]),e._v(" "),t("ol",[t("li",[e._v("Clear redundant directories or files;")]),e._v(" "),t("li",[e._v("Generate a complete "),t("code",[e._v("schema.prisma")]),e._v(" according to the target file;")]),e._v(" "),t("li",[e._v("Initialize the multi-tenant instance, and generate the corresponding prisma client according to schema.prisma;")]),e._v(" "),t("li",[e._v("Generate the corresponding "),t("code",[e._v("nexus CURD")]),e._v(";")]),e._v(" "),t("li",[e._v("Generate the corresponding "),t("code",[e._v("oas CURD")]),e._v(";")])]),e._v(" "),t("h2",{attrs:{id:"parameter-options"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#parameter-options"}},[e._v("#")]),e._v(" Parameter options")]),e._v(" "),t("div",{staticClass:"language-terminal line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("npx mrapi generate -h\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("Help message will be printed:")]),e._v(" "),t("div",{staticClass:"language-terminal line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('Usage: run generate [options]\n\nGenerate prisma schema and nexus types\n\nOptions:\n  --env <path>          env filePath (default: "config/.env")\n  --name <name>         Schema client name. If the name is "management", Only generate management client.\n  --cnt <options>       Generate CNT params. whiteList: disableQueries,disableMutations\n  --m <options>         Generate models\n  --em <options>        Exclude generate models\n  --eqm <options>       Exclude Queries and Mutations\n  -h, --help            display help for command\n  --provider <options>  Datasource provider list: sqlite,mysql,postgresql.\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br")])]),t("h4",{attrs:{id:"name"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#name"}},[e._v("#")]),e._v(" --name")]),e._v(" "),t("p",[e._v("The file name corresponding to the "),t("code",[e._v("schema")]),e._v(" configuration, uniquely identifies the "),t("code",[e._v("prisma client")]),e._v(".")]),e._v(" "),t("ul",[t("li",[e._v("Required")]),e._v(" "),t("li",[e._v("Type: "),t("code",[e._v("string")])]),e._v(" "),t("li",[e._v("Reference Value: "),t("code",[e._v('"management"')]),e._v(" or "),t("code",[e._v("schema")]),e._v(" configuration file name")])]),e._v(" "),t("p",[e._v("Combine "),t("code",[e._v("mrapiConfig.inputSchemaDir")]),e._v(" to find the "),t("code",[e._v("prisma schema")]),e._v(" configuration entry, Generate "),t("code",[e._v("schema.prisma")]),e._v(" export path with "),t("code",[e._v("mrapiConfig.schemaDir")]),e._v(", and generate "),t("code",[e._v("prisma client")]),e._v(" address with "),t("code",[e._v("mrapiConfig.outputDir")]),e._v(".`")]),e._v(" "),t("div",{staticClass:"language-typescript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-typescript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" inputSchemaPath "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("join")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("cwd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" inputSchemaDir"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token template-string"}},[t("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[e._v("`")]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[e._v("${")]),e._v("name"),t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[e._v("}")])]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v(".prisma")]),t("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[e._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" outputSchemaPath "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("join")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("cwd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" schemaDir"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token template-string"}},[t("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[e._v("`")]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[e._v("${")]),e._v("name"),t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[e._v("}")])]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v(".prisma")]),t("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[e._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" outputPath "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("join")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("cwd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" outputDir"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])]),t("p",[t("strong",[e._v('Note: When the value is "management", only the '),t("code",[e._v("prisma client")]),e._v(" for multi-tenant management is generated. Avoid the value equal to "),t("code",[e._v('"schema"')]),e._v(", because this value will be reserved for the multi-tenant management table configuration file.")])]),e._v(" "),t("h4",{attrs:{id:"cnt"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cnt"}},[e._v("#")]),e._v(" --cnt")]),e._v(" "),t("p",[e._v("Parameters to generate CURD")]),e._v(" "),t("ul",[t("li",[e._v("Optional/Not required")]),e._v(" "),t("li",[e._v("Type: "),t("code",[e._v("string")]),e._v("(Comma separated)")]),e._v(" "),t("li",[e._v("Reference Value: "),t("code",[e._v('"disableQueries"')]),e._v(" 、"),t("code",[e._v('"disableMutations"')])])]),e._v(" "),t("p",[t("code",[e._v('"disableQueries"')]),e._v(" means no queries are generated, and "),t("code",[e._v('"disableMutations"')]),e._v(" means no mutations are generated.")]),e._v(" "),t("h4",{attrs:{id:"m"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#m"}},[e._v("#")]),e._v(" --m")]),e._v(" "),t("p",[e._v("Which "),t("code",[e._v("models")]),e._v(" in the configuration file are enabled")]),e._v(" "),t("ul",[t("li",[e._v("Optional/Not required")]),e._v(" "),t("li",[e._v("Type: "),t("code",[e._v("string")]),e._v("(Comma separated)")]),e._v(" "),t("li",[e._v("Undefined means all models are enabled")])]),e._v(" "),t("h4",{attrs:{id:"em"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#em"}},[e._v("#")]),e._v(" --em")]),e._v(" "),t("p",[e._v("Contrary to "),t("code",[e._v("--m")]),e._v(" and mutually exclusive, means which "),t("code",[e._v("models")]),e._v(" to ignore")]),e._v(" "),t("ul",[t("li",[e._v("Optional/Not required")]),e._v(" "),t("li",[e._v("Type: "),t("code",[e._v("string")]),e._v("(Comma separated)")]),e._v(" "),t("li",[e._v("Undefined means not to ignore any models")])]),e._v(" "),t("h4",{attrs:{id:"eqm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eqm"}},[e._v("#")]),e._v(" --eqm")]),e._v(" "),t("p",[e._v("Which "),t("code",[e._v("models")]),e._v(" ignore both "),t("code",[e._v("queries")]),e._v(" and "),t("code",[e._v("mutations")])]),e._v(" "),t("ul",[t("li",[e._v("Optional/Not required")]),e._v(" "),t("li",[e._v("Type: "),t("code",[e._v("string")]),e._v("(Comma separated)")]),e._v(" "),t("li",[e._v("Undefined means all models are enabled")])]),e._v(" "),t("h3",{attrs:{id:"provider"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#provider"}},[e._v("#")]),e._v(" --provider")]),e._v(" "),t("p",[e._v("The datasource provider of the "),t("code",[e._v("schema")]),e._v(" configuration corresponding to "),t("code",[e._v("--name")]),e._v(".")]),e._v(" "),t("ul",[t("li",[e._v("Optional/Not required")]),e._v(" "),t("li",[e._v("Type: "),t("code",[e._v("string")]),e._v("(Comma separated)")]),e._v(" "),t("li",[e._v("Reference Value: "),t("code",[e._v("mysql, postgresql")]),e._v(" 或 "),t("code",[e._v("sqllite")])])]),e._v(" "),t("h2",{attrs:{id:"example"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[e._v("#")]),e._v(" example")]),e._v(" "),t("div",{staticClass:"language-terminal line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# General usage, initialize the schema-xxx configuration file\nnpx mrapi generate --name schema-xxx\n\n# OR\n\n# Only initialize multi-tenant management (prisma/schema.prisma file is required)\nnpx mrapi generate --name management\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);