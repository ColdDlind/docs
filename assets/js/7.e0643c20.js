(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{356:function(a,t,s){"use strict";s.r(t);var e=s(43),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"mrapi-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mrapi-api"}},[a._v("#")]),a._v(" @mrapi/api")]),a._v(" "),s("p",[s("strong",[a._v("The current configuration is only available for "),s("code",[a._v("@mrapi/api")])])]),a._v(" "),s("p",[a._v("Note: Please read "),s("a",{attrs:{href:"https://mrapi-js.github.io/docs/Configuration/Common.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("mrapi overall configuration description"),s("OutboundLink")],1),a._v(" first")]),a._v(" "),s("h2",{attrs:{id:"parameter-description"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#parameter-description"}},[a._v("#")]),a._v(" Parameter Description")]),a._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// @mrapi/api config")]),a._v("\napi"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// @mrapi/api openapi config")]),a._v("\n  openapi"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// @mrapi/api openapi custom api dir")]),a._v("\n    dir"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'/src/openapi'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// @mrapi/api openapi custom api preifx")]),a._v("\n    prefix"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'/api'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// @mrapi/api graphql config")]),a._v("\n  graphql"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// @mrapi/api graphql custom api dir")]),a._v("\n    dir"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'/src/graphql'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// @mrapi/api graphql api prefix")]),a._v("\n    path"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'/graphql'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// @mrapi/api graphql playground")]),a._v("\n    playground"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'playground'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// @mrapi/api graphql sources")]),a._v("\n    sources"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// @mrapi/api server config")]),a._v("\n  server"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// @mrapi/api server listen port")]),a._v("\n    port"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1358")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// @mrapi/api server type")]),a._v("\n    type"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'standalone'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// @mrapi/api fastify server options")]),a._v("\n    options"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// @mrapi/api prisma schema names array")]),a._v("\n  schemaNames"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// auto run scripts mrapi generate")]),a._v("\n  autoGenerate"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// mrapi db choose header key")]),a._v("\n  schemaIdentity"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'mrapi-schema'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br"),s("span",{staticClass:"line-number"},[a._v("23")]),s("br"),s("span",{staticClass:"line-number"},[a._v("24")]),s("br"),s("span",{staticClass:"line-number"},[a._v("25")]),s("br"),s("span",{staticClass:"line-number"},[a._v("26")]),s("br"),s("span",{staticClass:"line-number"},[a._v("27")]),s("br"),s("span",{staticClass:"line-number"},[a._v("28")]),s("br"),s("span",{staticClass:"line-number"},[a._v("29")]),s("br"),s("span",{staticClass:"line-number"},[a._v("30")]),s("br"),s("span",{staticClass:"line-number"},[a._v("31")]),s("br"),s("span",{staticClass:"line-number"},[a._v("32")]),s("br"),s("span",{staticClass:"line-number"},[a._v("33")]),s("br"),s("span",{staticClass:"line-number"},[a._v("34")]),s("br"),s("span",{staticClass:"line-number"},[a._v("35")]),s("br"),s("span",{staticClass:"line-number"},[a._v("36")]),s("br"),s("span",{staticClass:"line-number"},[a._v("37")]),s("br"),s("span",{staticClass:"line-number"},[a._v("38")]),s("br")])]),s("h3",{attrs:{id:"tenantidentity"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tenantidentity"}},[a._v("#")]),a._v(" tenantIdentity")]),a._v(" "),s("p",[a._v("The key value of the multi-tenant in the header")]),a._v(" "),s("ul",[s("li",[a._v("Type: "),s("code",[a._v("string")])]),a._v(" "),s("li",[a._v("Default: "),s("code",[a._v("mrapi-pmt")])])]),a._v(" "),s("h3",{attrs:{id:"api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[a._v("#")]),a._v(" api")]),a._v(" "),s("p",[s("code",[a._v("Object. api")]),a._v(" package configuration")]),a._v(" "),s("h3",{attrs:{id:"api-schemanames"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-schemanames"}},[a._v("#")]),a._v(" api.schemaNames")]),a._v(" "),s("p",[a._v("The name of the schema that needs to be loaded when the "),s("code",[a._v("type")]),a._v(" is "),s("code",[a._v("combined")])]),a._v(" "),s("ul",[s("li",[a._v("Type: "),s("code",[a._v("array")])]),a._v(" "),s("li",[a._v("Default: "),s("code",[a._v("[]")])])]),a._v(" "),s("h3",{attrs:{id:"api-autogenerate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-autogenerate"}},[a._v("#")]),a._v(" api.autoGenerate")]),a._v(" "),s("p",[a._v("Whether to execute the "),s("code",[a._v("npx mrapi generate script")]),a._v(" according to "),s("code",[a._v("api.schemaNames")]),a._v(" (it is recommended to open in the production environment, and open in the development environment after db changes)")]),a._v(" "),s("ul",[s("li",[a._v("Type: "),s("code",[a._v("Boolean")])]),a._v(" "),s("li",[a._v("Default: "),s("code",[a._v("true")])])]),a._v(" "),s("h3",{attrs:{id:"api-schemaidentity"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-schemaidentity"}},[a._v("#")]),a._v(" api.schemaIdentity")]),a._v(" "),s("p",[a._v("Use In combination with dal, customize the "),s("code",[a._v("header key")]),a._v(" selected by db in "),s("code",[a._v("openapi")])]),a._v(" "),s("ul",[s("li",[a._v("Type: "),s("code",[a._v("string")])]),a._v(" "),s("li",[a._v("Default: "),s("code",[a._v("mrapi-db")])])]),a._v(" "),s("h3",{attrs:{id:"api-openapi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-openapi"}},[a._v("#")]),a._v(" api.openapi")]),a._v(" "),s("p",[s("code",[a._v("Object. openapi")]),a._v(" related configuration")]),a._v(" "),s("h3",{attrs:{id:"api-openapi-dir"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-openapi-dir"}},[a._v("#")]),a._v(" api.openapi.dir")]),a._v(" "),s("p",[a._v("Custom "),s("code",[a._v("openapi")]),a._v(" storage directory")]),a._v(" "),s("ul",[s("li",[a._v("Type: "),s("code",[a._v("string")])]),a._v(" "),s("li",[a._v("Default: "),s("code",[a._v("/src/openapi")])])]),a._v(" "),s("h3",{attrs:{id:"api-openapi-prefix"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-openapi-prefix"}},[a._v("#")]),a._v(" api.openapi.prefix")]),a._v(" "),s("p",[a._v("Custom "),s("code",[a._v("openapi")]),a._v(" routing prefix")]),a._v(" "),s("ul",[s("li",[a._v("Type: "),s("code",[a._v("string")])]),a._v(" "),s("li",[a._v("Default: "),s("code",[a._v("/api")])])]),a._v(" "),s("h3",{attrs:{id:"api-graphql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-graphql"}},[a._v("#")]),a._v(" api.graphql")]),a._v(" "),s("p",[s("code",[a._v("Object. graphql")]),a._v(" related configuration")]),a._v(" "),s("h3",{attrs:{id:"api-graphql-dir"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-graphql-dir"}},[a._v("#")]),a._v(" api.graphql.dir")]),a._v(" "),s("p",[a._v("Custom "),s("code",[a._v("graphql")]),a._v(" storage directory")]),a._v(" "),s("ul",[s("li",[a._v("Type: "),s("code",[a._v("string")])]),a._v(" "),s("li",[a._v("Default: "),s("code",[a._v("/src/graphql")])])]),a._v(" "),s("h3",{attrs:{id:"api-graphql-path"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-graphql-path"}},[a._v("#")]),a._v(" api.graphql.path")]),a._v(" "),s("p",[a._v("Graphql access path, the real access path is "),s("code",[a._v("${api.graphql.path}/:${schemaName}")]),a._v(",  RegExp match schemaName(Determine the prismaClient in the "),s("code",[a._v("handler")]),a._v(" context,  please pass "),s("code",[a._v("default")]),a._v(" for "),s("code",[a._v("${schemaName}")]),a._v(" to ensure that the route can be hit, when using "),s("code",[a._v("standlone")]),a._v(" mode")]),a._v(" "),s("ul",[s("li",[a._v("Type: "),s("code",[a._v("string")])]),a._v(" "),s("li",[a._v("Default: "),s("code",[a._v("/graphql")])])]),a._v(" "),s("h3",{attrs:{id:"api-graphql-palyground"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-graphql-palyground"}},[a._v("#")]),a._v(" api.graphql.palyground")]),a._v(" "),s("p",[s("code",[a._v("graphql palyground")]),a._v(" address, if "),s("code",[a._v("false")]),a._v(", it will close the "),s("code",[a._v("playground")])]),a._v(" "),s("ul",[s("li",[a._v("Type: "),s("code",[a._v("string | boolean")])]),a._v(" "),s("li",[a._v("Default: "),s("code",[a._v("palyground")])])]),a._v(" "),s("h3",{attrs:{id:"api-graphql-sources"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-graphql-sources"}},[a._v("#")]),a._v(" api.graphql.sources")]),a._v(" "),s("p",[a._v("Graphql source configuration that needs to be mesh")]),a._v(" "),s("ul",[s("li",[a._v("Type: "),s("code",[a._v("array")])]),a._v(" "),s("li",[a._v("Default: "),s("code",[a._v("[]")])])]),a._v(" "),s("h3",{attrs:{id:"api-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-server"}},[a._v("#")]),a._v(" api.server")]),a._v(" "),s("p",[s("code",[a._v("Object. server")]),a._v(" related configuration")]),a._v(" "),s("h3",{attrs:{id:"api-server-port"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-server-port"}},[a._v("#")]),a._v(" api.server.port")]),a._v(" "),s("p",[a._v("Service listening port")]),a._v(" "),s("ul",[s("li",[a._v("Type: "),s("code",[a._v("number")])]),a._v(" "),s("li",[a._v("Default: "),s("code",[a._v("1358")])])]),a._v(" "),s("h3",{attrs:{id:"api-server-type"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-server-type"}},[a._v("#")]),a._v(" api.server.type")]),a._v(" "),s("p",[a._v("The usage mode of api package, ['Use alone','Use in combination with dal'], enum['standalone','combined']")]),a._v(" "),s("ul",[s("li",[a._v("Type: "),s("code",[a._v("string")])]),a._v(" "),s("li",[a._v("Default: "),s("code",[a._v("standalone")])])]),a._v(" "),s("h3",{attrs:{id:"api-server-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-server-options"}},[a._v("#")]),a._v(" api.server.options")]),a._v(" "),s("p",[a._v("Options that will bt transmitted to "),s("code",[a._v("fastify")])]),a._v(" "),s("ul",[s("li",[a._v("Type: "),s("code",[a._v("Object")])]),a._v(" "),s("li",[a._v("Default: "),s("code",[a._v("{}")])])]),a._v(" "),s("h3",{attrs:{id:""}},[s("a",{staticClass:"header-anchor",attrs:{href:"#"}},[a._v("#")])])])}),[],!1,null,null,null);t.default=r.exports}}]);